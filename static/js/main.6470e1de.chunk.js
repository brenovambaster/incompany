(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{289:function(e,t,a){e.exports=a(503)},294:function(e,t,a){},446:function(e){e.exports={}},456:function(e,t,a){},501:function(e,t,a){},502:function(e,t,a){},503:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(47),o=a.n(r),s=(a(294),a(36)),c=a(65),l=a(89),u=(a(178),a(90),a(7)),d=a.n(u),m=a(10),h=a(17),p=a(18),v=a(25),f=a(24),g=a(26),E=a(15),b=a(524),k=a(526),C=a(504),y=a(56),S=a(525),O=a(520),j=a(514),x=a(103),w=a(249),A=a.n(w),z=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"create",value:function(){return A.a.create({baseURL:this.getUrl(),timeout:4e3})}},{key:"getUrl",value:function(){return"http://incompany.epizy.com//incompany/api/v1/"}}]),e}(),U=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"all",value:function(){return z.create().get("categorias")}},{key:"save",value:function(e){return z.create().post("categorias",e)}},{key:"remove",value:function(e){return z.create().delete("categorias",{data:e})}}]),e}(),I=a(516),M=function(e){var t=e.categoria,a=e.titulo,n=e.onClickAction,r=e.changeAction;return i.a.createElement(I.a,{encType:"multipart/form-data"},i.a.createElement(S.a,null,a),i.a.createElement(I.a.Group,{widths:"16"},i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"T\xedtulo"),i.a.createElement("input",{name:"descricao",onChange:r,placeholder:"T\xedtulo",value:t.descricao})),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"\xa0"),i.a.createElement(C.a,{onClick:function(){return n("AE")},icon:"check",basic:!0}),a.includes("Edi\xe7\xe3o")?i.a.createElement(C.a,{onClick:function(){return n("R")},icon:"close",basic:!0}):"")))},q=a(518),T=function(e){var t=e.position,a=e.content,n=e.trigger,r=e.onCloseAction;return i.a.createElement(q.a,{wide:"very",onClose:r,trigger:n,content:{content:a},on:"click",position:t})},_=function(e){var t=e.msg,a=e.icon;return i.a.createElement("span",null,i.a.createElement(y.a,{name:a}),t)},R=function(e){var t=e.erros;return i.a.createElement(O.a,{size:"small"},Array.isArray(t)?t.map(function(e,t){return i.a.createElement(O.a.Item,{key:"erro-validacao-usuario-"+t},i.a.createElement(_,{icon:"warning",msg:e}))}):i.a.createElement(O.a.Item,{key:"erro-validacao-usuario-1"},i.a.createElement(_,{icon:"warning",msg:t})))},N=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"gerar",value:function(e){var t=e.data.msg,a=e.data.flag?i.a.createElement(_,{icon:"check",msg:t}):i.a.createElement(R,{erros:t}),n=e.data.flag?l.a.TYPE.INFO:l.a.TYPE.WARNING;Object(l.a)(a,{type:n})}}]),e}(),Q=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={categorias:[],categoriaSelecionada:a.initializeCategoria(),updateCategorias:1,carregarCategorias:!1},a.handleChangeDescricaoCategoria=a.handleChangeDescricaoCategoria.bind(Object(E.a)(a)),a.handleClickCategoriaItem=a.handleClickCategoriaItem.bind(Object(E.a)(a)),a.selectCategoria=a.selectCategoria.bind(Object(E.a)(a)),a.limparSelecaoCategoria=a.limparSelecaoCategoria.bind(Object(E.a)(a)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateCategorias(),this.setState({categoriaSelecionada:this.initializeCategoria()});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateCategorias",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.all();case 2:t=e.sent,this.setState({updateCategorias:this.state.updateCategorias+1}),this.setState({categorias:t.data});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeCategoria",value:function(){return{id:0,descricao:""}}},{key:"limparSelecaoCategoria",value:function(){this.setState({categoriaSelecionada:this.initializeCategoria()})}},{key:"selectCategoria",value:function(e){this.setState({categoriaSelecionada:e})}},{key:"handleChangeDescricaoCategoria",value:function(e,t){var a=void 0!==t?t:e.target,n=this.state.categoriaSelecionada;n[a.name]=a.value,this.setState({categoriaSelecionada:n})}},{key:"handleClickCategoriaItem",value:function(e){"AE"===e?this.salvarCategoria():"R"===e&&this.removerCategoria()}},{key:"setStatusRequisicao",value:function(e){N.gerar(e),e.data.flag&&(this.setState({categoriaSelecionada:this.initializeCategoria()}),this.updateCategorias())}},{key:"salvarCategoria",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,U.save(this.state.categoriaSelecionada);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removerCategoria",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,U.remove(this.state.categoriaSelecionada);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement(b.a.Dimmable,{blurring:!0,as:k.a,key:this.state.updateCategorias,active:this.state.carregarCategorias},i.a.createElement(T,{trigger:i.a.createElement(C.a,{basic:!0,onClick:this.limparSelecaoCategoria,className:"pointer",as:"a",floated:"left",size:"mini"}," ",i.a.createElement(y.a,{name:"add"}),"Adicionar"),position:"left center",content:i.a.createElement(M,{titulo:"Inclus\xe3o de Categoria de Curso",categoria:this.state.categoriaSelecionada,changeAction:this.handleChangeDescricaoCategoria,onClickAction:this.handleClickCategoriaItem})}),i.a.createElement(S.a,{className:"header-listagem",textAlign:"center",size:"tiny"},"Categorias de Cursos  "),i.a.createElement(O.a,{horizontal:!0,animated:!0,verticalAlign:"middle"},this.state.categorias.map(function(t){return i.a.createElement(O.a.Item,{key:t.id},i.a.createElement(T,{trigger:i.a.createElement(C.a,{onClick:function(){return e.selectCategoria(t)},className:"botao-item-sistema",basic:!0},i.a.createElement(O.a.Content,null,i.a.createElement(k.a,{compact:!0,basic:!0},i.a.createElement(y.a,{name:"grid layout",size:"big"}),i.a.createElement(O.a.Header,{className:"nome-list"},t.descricao),i.a.createElement(j.a,null),i.a.createElement(x.a,{size:"mini",basic:!0},i.a.createElement(y.a,{name:"cube"})," ",t.qtdCursos)))),position:"left center",content:i.a.createElement(M,{titulo:"Edi\xe7\xe3o de Categoria de Curso",categoria:e.state.categoriaSelecionada,changeAction:e.handleChangeDescricaoCategoria,onClickAction:e.handleClickCategoriaItem})}))})),i.a.createElement(b.a,{active:this.state.carregarCategorias},i.a.createElement(S.a,{as:"h2",inverted:!0},i.a.createElement(y.a,{loading:!0,name:"circle notch"}))))}}]),t}(n.Component),D=a(268),F=a(128),P=a.n(F),B=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"all",value:function(){return z.create().get("usuarios")}},{key:"save",value:function(e){return z.create().post("usuarios",e)}},{key:"findById",value:function(e){return z.create().get("usuarios/".concat(e))}},{key:"remove",value:function(e){return z.create().delete("usuarios",{data:e})}},{key:"login",value:function(e){var t={email:e.email,_:P()(e.senha).toString(D.enc.Hex)};return z.create().post("login",t)}}]),e}(),V=a(519),H=function(e){var t=e.usuario,a=e.titulo,n=e.onClickAction,r=e.changeAction,o=e.tiposUsuariosPossiveis;return i.a.createElement(I.a,{encType:"multipart/form-data"},i.a.createElement(S.a,null,a),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"Nome"),i.a.createElement("input",{name:"nome",onChange:r,placeholder:"T\xedtulo",value:t.nome})),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"E-mail"),i.a.createElement("input",{name:"email",onChange:r,placeholder:"E-mail",value:t.email})),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"Senha"),i.a.createElement("input",{name:"senha",type:"password",onChange:r,placeholder:"Senha",value:t.senha})),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"Tipo"),i.a.createElement(V.a,{name:"tipo",value:t.tipo,clearable:!0,onChange:r,options:o,selection:!0})),i.a.createElement("label",null,"\xa0"),i.a.createElement(C.a,{floated:"right",onClick:function(){return n("AE")},icon:"check",basic:!0}),i.a.createElement("label",null,"\xa0"),a.includes("Edi\xe7\xe3o")?i.a.createElement(C.a,{onClick:function(){return n("R")},icon:"close",basic:!0}):"",a.includes("Edi\xe7\xe3o")&&"U"===t.tipo?i.a.createElement("div",null,i.a.createElement(j.a,null),i.a.createElement(s.b,{to:"usuarios/".concat(t.id)},i.a.createElement(C.a,{attached:"bottom",size:"mini",basic:!0},i.a.createElement(y.a,{name:"chart bar"})," Relat\xf3rio"))):"")},G=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={usuarios:[],usuarioSelecionado:a.initializeUsuario(),updateUsuarios:1,carregarUsuarios:!1},a.handleChangeUsuario=a.handleChangeUsuario.bind(Object(E.a)(a)),a.handleClick=a.handleClick.bind(Object(E.a)(a)),a.selectUsuario=a.selectUsuario.bind(Object(E.a)(a)),a.limparSelecao=a.limparSelecao.bind(Object(E.a)(a)),a.handleOncloseChange=a.handleOncloseChange.bind(Object(E.a)(a)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateUsuarios(),this.setState({usuarioSelecionado:this.initializeUsuario()});case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateUsuarios",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.all();case 2:t=e.sent,this.setState({updateUsuarios:this.state.updateUsuarios+1}),this.setState({usuarios:t.data});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeUsuario",value:function(){return{id:0,nome:"",email:"",senha:"",tipo:""}}},{key:"limparSelecao",value:function(){this.setState({usuarioSelecionado:this.initializeUsuario()})}},{key:"selectUsuario",value:function(e){this.setState({usuarioSelecionado:e})}},{key:"handleChangeUsuario",value:function(e,t){var a=void 0!==t?t:e.target,n=this.state.usuarioSelecionado;n[a.name]=a.value,this.setState({usuarioSelecionado:n})}},{key:"handleOncloseChange",value:function(e,t){this.updateUsuarios()}},{key:"handleClick",value:function(e){"AE"===e?this.salvarUsuario():"R"===e&&this.removerUsuario()}},{key:"setStatusRequisicao",value:function(e){N.gerar(e),e.data.flag&&(this.setState({categoriaSelecionada:this.initializeUsuario()}),this.updateUsuarios())}},{key:"salvarUsuario",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,B.save(this.state.usuarioSelecionado);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removerUsuario",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,B.remove(this.state.usuarioSelecionado);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getTiposUsuariosPossiveis",value:function(){return[{key:1,text:"Administrador",value:"A"},{key:2,text:"Usu\xe1rio",value:"U"}]}},{key:"render",value:function(){var e=this;return i.a.createElement(b.a.Dimmable,{blurring:!0,as:k.a,key:this.state.updateUsuarios,active:this.state.carregarUsuarios},i.a.createElement(T,{onCloseAction:this.handleOncloseChange,trigger:i.a.createElement(C.a,{basic:!0,onClick:this.limparSelecao,className:"pointer",as:"a",floated:"left",size:"mini"}," ",i.a.createElement(y.a,{name:"add"}),"Adicionar"),position:"left center",content:i.a.createElement(H,{titulo:"Inclus\xe3o de Usu\xe1rio",usuario:this.state.usuarioSelecionado,changeAction:this.handleChangeUsuario,onClickAction:this.handleClick,tiposUsuariosPossiveis:this.getTiposUsuariosPossiveis()})}),i.a.createElement(S.a,{className:"header-listagem",textAlign:"center",size:"tiny"},"Usu\xe1rios"),i.a.createElement(O.a,{horizontal:!0,animated:!0,verticalAlign:"middle"},this.state.usuarios.map(function(t){return i.a.createElement(O.a.Item,{key:t.id},i.a.createElement(T,{onCloseAction:e.handleOncloseChange,trigger:i.a.createElement("div",null,i.a.createElement(C.a,{onClick:function(){return e.selectUsuario(t)},className:"botao-item-sistema",basic:!0},i.a.createElement(O.a.Content,null,i.a.createElement(k.a,{compact:!0,basic:!0},i.a.createElement(y.a,{name:"user",size:"big"}),i.a.createElement(O.a.Header,{className:"nome-list"},t.nome),i.a.createElement(j.a,null),i.a.createElement(x.a,{size:"mini",basic:!0},i.a.createElement(y.a,{name:"mail"})," ",t.email),"A"===t.tipo?i.a.createElement(x.a,{size:"mini",color:"red",basic:!0},"ADM"):i.a.createElement(x.a,{size:"mini",color:"blue",basic:!0},"Aluno"))))),position:"left center",content:i.a.createElement(H,{titulo:"Edi\xe7\xe3o de Usu\xe1rio",usuario:e.state.usuarioSelecionado,changeAction:e.handleChangeUsuario,onClickAction:e.handleClick,tiposUsuariosPossiveis:e.getTiposUsuariosPossiveis()})}))})),i.a.createElement(b.a,{active:this.state.carregarUsuarios},i.a.createElement(S.a,{as:"h2",inverted:!0},i.a.createElement(y.a,{loading:!0,name:"circle notch"}))))}}]),t}(n.Component),L=a(523),W=(a(446),function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"save",value:function(e){localStorage.setItem("auth",JSON.stringify(e.data.obj))}},{key:"get",value:function(){return JSON.parse(localStorage.getItem("auth"))}},{key:"clear",value:function(){localStorage.clear(),window.location.href="/login"}},{key:"isPerfilAdm",value:function(){return null===this.get()&&this.clear(),"A"===this.get().tipo}}]),e}()),J=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={auth:{nome:""}},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({auth:this.props.auth});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return null!==W.get()?i.a.createElement(L.a,{stackable:!0},i.a.createElement(L.a.Item,null,i.a.createElement("img",{src:"/logo.png",alt:"logo incompany"})),i.a.createElement(L.a.Menu,{position:"right"},i.a.createElement(V.a,{item:!0,text:W.get().nome},i.a.createElement(V.a.Menu,null,i.a.createElement(V.a.Item,{onClick:W.clear},"Sair"))))):""}}]),t}(n.Component),$=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"all",value:function(){return z.create().get("cursos")}},{key:"save",value:function(e){return z.create().post("cursos",e)}},{key:"isConcluido",value:function(e){return z.create().post("cursos/is_concluido",{curso_id:e,usuario_id:W.get().id})}},{key:"getAvaliacao",value:function(e){return z.create().post("cursos/get_avaliacao",{curso_id:e,usuario_id:W.get().id})}},{key:"enviarAvaliacao",value:function(e,t,a){return z.create().post("cursos/avaliacao",{curso_id:e,comentario:t,nota:a,usuario_id:W.get().id})}},{key:"inscrever",value:function(e,t){return z.create().post("cursos/inscrever",{usuario_id:t,curso_id:e})}},{key:"findDisponiveis",value:function(e){return z.create().get("cursos/disponiveis/usuario/".concat(e))}},{key:"findByIncricaoUsuario",value:function(e){return z.create().get("cursos/usuario/".concat(e))}},{key:"remove",value:function(e){return z.create().delete("cursos",{data:e})}},{key:"findById",value:function(e){return z.create().get("cursos/".concat(e))}}]),e}(),Y=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={cursos:[],cursoSelecionado:a.initializeCurso(),updateCursos:1},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleClick=a.handleClick.bind(Object(E.a)(a)),a.limparSelecao=a.limparSelecao.bind(Object(E.a)(a)),a.handleOncloseChange=a.handleOncloseChange.bind(Object(E.a)(a)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateCursos(),this.updateCategorias();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateCategorias",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.all();case 2:t=e.sent,this.setState({categorias:this.buildDropdownItensCategoria(t.data)});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"buildDropdownItensCategoria",value:function(e){var t=[];return e.map(function(e){return t.push({key:e.id,text:e.descricao,value:e.id})}),t}},{key:"initializeCurso",value:function(){return{id:0,titulo:"",nome_tutor:"",categoria_id:0,usuario_id:0}}},{key:"handleChange",value:function(e,t){var a=void 0!==t?t:e.target,n=this.state.cursoSelecionado;n[a.name]=a.value,n.usuario_id=W.get().id,this.setState({cursoSelecionado:n})}},{key:"handleOncloseChange",value:function(e,t){this.updateCursos()}},{key:"updateCursos",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.all();case 2:t=e.sent,this.setState({updateCursos:this.state.updateCursos+1}),this.setState({cursos:t.data});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setStatusRequisicao",value:function(e){N.gerar(e),e.data.flag&&(this.setState({cursoSelecionado:this.initializeCurso()}),this.updateCursos())}},{key:"selectCurso",value:function(e){this.setState({cursoSelecionado:e})}},{key:"salvarCurso",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,$.save(this.state.cursoSelecionado);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removerCurso",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,$.remove(this.state.cursoSelecionado);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"limparSelecao",value:function(){this.setState({cursoSelecionado:this.initializeCurso()}),this.updateCategorias()}},{key:"buildCursoForm",value:function(e){var t=this;return i.a.createElement(I.a,{encType:"multipart/form-data"},i.a.createElement(S.a,null,e),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"T\xedtulo"),i.a.createElement("input",{placeholder:"T\xedtulo",name:"titulo",type:"text",value:this.state.cursoSelecionado.titulo,onChange:this.handleChange})),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"Categoria"),i.a.createElement(V.a,{selection:!0,name:"categoria_id",onChange:this.handleChange,value:this.state.cursoSelecionado.categoria_id,options:this.state.categorias})),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"Nome Tutor"),i.a.createElement("input",{placeholder:"Nome do Tutor",name:"nome_tutor",type:"text",onChange:this.handleChange,value:this.state.cursoSelecionado.nome_tutor})),i.a.createElement("label",null,"\xa0"),i.a.createElement(C.a,{floated:"right",onClick:function(){return t.handleClick("AE")},icon:"check",basic:!0}),i.a.createElement("label",null,"\xa0"),e.includes("Edi\xe7\xe3o")?i.a.createElement(C.a.Group,{basic:!0},i.a.createElement(C.a,{onClick:function(){return t.handleClick("R")},icon:"close"}),i.a.createElement(s.b,{to:"/cursos/".concat(this.state.cursoSelecionado.id)},i.a.createElement(C.a,{onClick:function(){return t.handleClick("E")},icon:"pencil"}))):"")}},{key:"handleClick",value:function(e){"AE"===e?this.salvarCurso():"R"===e&&this.removerCurso()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(k.a,{key:this.state.updateCursos},i.a.createElement(T,{onCloseAction:this.handleOncloseChange,trigger:i.a.createElement(C.a,{basic:!0,onClick:this.limparSelecao,className:"pointer",as:"a",floated:"left",size:"mini"}," ",i.a.createElement(y.a,{name:"add"}),"Adicionar"),position:"left center",content:this.buildCursoForm("Inclus\xe3o de Curso")}),i.a.createElement(S.a,{className:"header-listagem",textAlign:"center",size:"tiny"},"Cursos"),i.a.createElement(O.a,{horizontal:!0,animated:!0,verticalAlign:"middle"},this.state.cursos.map(function(t){return i.a.createElement(O.a.Item,{key:t.id},i.a.createElement(T,{trigger:i.a.createElement(C.a,{onClick:function(){return e.selectCurso(t)},className:"botao-item-sistema",basic:!0},i.a.createElement(O.a.Content,null,i.a.createElement(k.a,{compact:!0,basic:!0},i.a.createElement(y.a,{name:"cube",size:"big"}),i.a.createElement(O.a.Header,{className:"nome-list"},t.titulo),i.a.createElement(j.a,null),i.a.createElement(x.a,{size:"mini",basic:!0},i.a.createElement(y.a,{name:"cube"})," ",t.nome_tutor)))),position:"left center",content:e.buildCursoForm("Edi\xe7\xe3o de Curso")}))}))))}}]),t}(n.Component),K=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={meusCursos:[],cursosDisoniveis:[],updateCursos:1},a.inscricao=a.inscricao.bind(Object(E.a)(a)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"setStatusRequisicao",value:function(e){N.gerar(e),e.data.flag&&this.updateCursos()}},{key:"updateCursos",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t,a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=W.get().id,e.next=3,$.findByIncricaoUsuario(t);case 3:return a=e.sent,e.next=6,$.findDisponiveis(t);case 6:n=e.sent,this.setState({meusCursos:a.data}),this.setState({cursosDisoniveis:n.data}),this.setState({updateCursos:this.state.updateCursos+1});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateCursos();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"inscricao",value:function(){var e=Object(m.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,$.inscrever(t,W.get().id);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement(k.a,{key:"cursos-aluno-"+this.state.updateCursos},i.a.createElement(k.a,null,i.a.createElement(S.a,null,"Meus Cursos"),i.a.createElement(O.a,{horizontal:!0,animated:!0,selection:!0},this.state.meusCursos.map(function(e){return i.a.createElement(O.a.Item,null,i.a.createElement(k.a,null,i.a.createElement(y.a,{name:"cube",size:"big"}),i.a.createElement(O.a.Header,{className:"nome-list"},e.titulo),i.a.createElement(j.a,null),i.a.createElement(x.a,{size:"mini",basic:!0},i.a.createElement(y.a,{name:"cube"})," ",e.nome_tutor)),i.a.createElement(s.b,{to:"cursos/".concat(e.id)},i.a.createElement(C.a,{size:"mini",basic:!0},"Ir para o curso")))}))),i.a.createElement(k.a,null,i.a.createElement(S.a,null,"Cursos Dispon\xedveis"),i.a.createElement(O.a,{selection:!0,horizontal:!0},this.state.cursosDisoniveis.map(function(t){return i.a.createElement(O.a.Item,null,i.a.createElement(k.a,null,i.a.createElement(y.a,{name:"cube",size:"big"}),i.a.createElement(O.a.Header,{className:"nome-list"},t.titulo),i.a.createElement(j.a,null),i.a.createElement(x.a,{size:"mini",basic:!0},i.a.createElement(y.a,{name:"cube"})," ",t.nome_tutor)),i.a.createElement(C.a,{onClick:function(){return e.inscricao(t.id)},size:"mini",basic:!0},"Increver"))}))))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"sair",value:function(){W.clear()}},{key:"componentWillMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:null===W.get()&&W.clear();case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"renderDashboardContent",value:function(){return i.a.createElement("div",null,i.a.createElement(Y,null),i.a.createElement(G,null),i.a.createElement(Q,null))}},{key:"renderAlunoContent",value:function(){return i.a.createElement("div",null,i.a.createElement(K,null))}},{key:"renderParaUsuario",value:function(){return W.isPerfilAdm()?this.renderDashboardContent():this.renderAlunoContent()}},{key:"render",value:function(){return i.a.createElement("div",null,i.a.createElement(J,null),i.a.createElement(k.a,null,this.renderParaUsuario()))}}]),t}(n.Component),Z=a(513),ee=a(528),te=a(512),ae=(a(456),a(522)),ne=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"all",value:function(){return z.create().get("unidades")}},{key:"findByCursoId",value:function(e){return z.create().get("unidades/curso/".concat(e))}},{key:"findById",value:function(e){return z.create().get("unidades/".concat(e))}},{key:"save",value:function(e){return z.create().post("unidades",e)}},{key:"remove",value:function(e){return z.create().delete("unidades",{data:e})}}]),e}(),ie=a(511),re=function(e){var t=e.material,a=e.icon,n=e.titulo,r=e.position,o=e.buttonFloated,s=e.buttonTitle,c=e.handleChange,l=e.handleClick,u=e.seleciona,d=e.limpa;return i.a.createElement(q.a,{wide:"very",trigger:s?i.a.createElement(C.a,{onClick:function(){return d()},floated:o,size:"mini",basic:!0},i.a.createElement(y.a,{name:a}),s):i.a.createElement(C.a,{onClick:function(){return u(t)},floated:o,size:"mini",icon:a,basic:!0}),content:i.a.createElement(I.a,null,i.a.createElement(S.a,null,n),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"Tipo Material"),i.a.createElement(V.a,{selection:!0,onChange:c,name:"tipo",value:t.tipo,options:[{key:"tipo-mat-1",text:"Documento",value:"D",icon:"file outline"},{key:"tipo-mat-2",text:"V\xeddeo",value:"V",icon:"play"},{key:"tipo-mat-3",text:"Question\xe1rio",value:"Q",icon:"question circle outline"}]})),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"T\xedtulo"),i.a.createElement("input",{type:"text",placeholder:"T\xedtulo",value:t.titulo,name:"titulo",onChange:c})),"Q"!==t.tipo?i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"Link"),i.a.createElement("input",{type:"text",placeholder:"Link",value:t.url,name:"url",onChange:c})):i.a.createElement(ie.a,{name:"final",checked:t.final,onChange:c,size:"small",label:"Mostrar ao final da unidade"}),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"\xa0"),i.a.createElement(C.a,{onClick:function(){return l("SM")},floated:"right",icon:"check",basic:!0}))),on:"click",position:r})},oe=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"all",value:function(){return z.create().get("materiais")}},{key:"save",value:function(e){return z.create().post("materiais",e)}},{key:"interacao",value:function(e,t,a){return z.create().post("materiais/interacao",{material_id:e,usuario_id:t,curso_id:a})}},{key:"possuiInteracao",value:function(e,t,a){return z.create().post("materiais/possui_interacao",{usuario_id:e,curso_id:t,unidade_id:a})}},{key:"findByUnidadeId",value:function(e){return z.create().get("materiais/unidade/".concat(e,"?usuario_id=").concat(W.get().id))}},{key:"findById",value:function(e){return z.create().get("materiais/".concat(e))}},{key:"remove",value:function(e){return z.create().delete("materiais",{data:e})}}]),e}(),se=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"all",value:function(){return z.create().get("questionarios")}},{key:"save",value:function(e){return z.create().post("questionarios",e)}},{key:"nova",value:function(e){return z.create().post("questionarios/nova",e)}},{key:"enviar",value:function(e){return z.create().post("questionarios/responder",e)}},{key:"remove",value:function(e){return z.create().delete("questionarios",{data:e})}},{key:"findByMaterialId",value:function(e){return z.create().get("questionarios/material/".concat(e))}}]),e}(),ce=a(517),le=a(527),ue=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"all",value:function(){return z.create().get("alternativas")}},{key:"save",value:function(e){return z.create().post("alternativas",e)}},{key:"remove",value:function(e){return z.create().delete("alternativas",{data:e})}},{key:"setAlternativaCorreta",value:function(e,t){return z.create().post("alternativas/atualizar",{data:{questaoId:e,alternativaId:t}})}},{key:"findByQuestaoId",value:function(e){return z.create().get("alternativas/questao/".concat(e))}}]),e}(),de=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={alternativas:[],alternativaSelecionada:a.initializeAlternativa(),updateAlternativas:1,textoNovaAlternativa:""},a.handleClick=a.handleClick.bind(Object(E.a)(a)),a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleChangeRadios=a.handleChangeRadios.bind(Object(E.a)(a)),a.removerAlternativa=a.removerAlternativa.bind(Object(E.a)(a)),a.alteraAlternativaCorreta=a.alteraAlternativaCorreta.bind(Object(E.a)(a)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e){this.setState({textoNovaAlternativa:e.target.value})}},{key:"handleChangeRadios",value:function(e,t){var a=t.value;if(W.isPerfilAdm())this.alteraAlternativaCorreta(this.props.questao.id,a);else{var n=this.state.alternativas.find(function(e){return e.id===a});this.setState({alternativaSelecionada:n}),this.props.guardarResposta(n)}}},{key:"alteraAlternativaCorreta",value:function(){var e=Object(m.a)(d.a.mark(function e(t,a){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,ue.setAlternativaCorreta(t,a);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(t,a){return e.apply(this,arguments)}}()},{key:"initializeAlternativa",value:function(){return{id:0,texto:"",questao_id:this.props.questao.id,ordem:0,correta:!1}}},{key:"updateAlternativas",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t,a,n=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue.findByQuestaoId(this.props.questao.id);case 2:t=e.sent,a=[],t.data.map(function(e){e.correta="1"===e.correta,a.push(e),e.correta&&W.isPerfilAdm()&&n.setState({alternativaSelecionada:e})}),this.setState({alternativas:a}),this.setState({updateAlternativas:this.state.updateAlternativas+1});case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateAlternativas();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setAlternativaSelecionada",value:function(e){this.setState({alternativaSelecionada:this.props.questao.alternativas.find(function(t){return t.id===parseInt(e)})})}},{key:"salvarAlternativa",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.initializeAlternativa()).texto=this.state.textoNovaAlternativa,e.t0=this,e.next=5,ue.save(t);case 5:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1),this.setState({textoNovaAlternativa:""});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setStatusRequisicao",value:function(e){N.gerar(e),e.data.flag&&(this.setState({alternativaSelecionada:this.initializeAlternativa()}),this.updateAlternativas())}},{key:"handleClick",value:function(e){"SA"===e&&this.salvarAlternativa()}},{key:"removerAlternativa",value:function(){var e=Object(m.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,ue.remove(t);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return i.a.createElement(k.a,{key:this.state.updateAlternativas,className:"bottom-extended"},W.isPerfilAdm()?i.a.createElement(S.a,null,"Alternativas"):"",this.state.alternativas.map(function(t){return i.a.createElement("div",null,i.a.createElement(k.a,{className:"bottom-extended"},i.a.createElement(ie.a,{radio:!0,label:t.texto,name:"correta",value:t.id,checked:e.state.alternativaSelecionada.id===t.id,onChange:e.handleChangeRadios}),W.isPerfilAdm()?i.a.createElement(C.a,{onClick:function(){return e.removerAlternativa(t)},floated:"right",icon:"close",basic:!0,size:"mini"}):""))}),W.isPerfilAdm()?i.a.createElement("div",null,i.a.createElement("input",{name:"texto",placeholder:"Descri\xe7\xe3o da nova alternativa",size:"mini",value:this.state.textoNovaAlternativa,onChange:this.handleChange}),i.a.createElement(C.a,{onClick:function(){return e.handleClick("SA")},floated:"right",basic:!0,size:"mini"},i.a.createElement(y.a,{name:"add"}),"Adicionar Alternativa")):"")}}]),t}(n.Component),me=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={questoes:[],materialSelecionado:{cursoTitulo:"",materialTitulo:"",unidadeTitulo:"",cursoId:0},modalAlternativas:!1,alternativaSelecionada:0,updateQuestoes:1,questaoSelecionada:a.initializeQuestao(),respostas:[]},a.novaQuestao=a.novaQuestao.bind(Object(E.a)(a)),a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.seleciona=a.seleciona.bind(Object(E.a)(a)),a.salvarQuestao=a.salvarQuestao.bind(Object(E.a)(a)),a.guardarResposta=a.guardarResposta.bind(Object(E.a)(a)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"initializeQuestao",value:function(){return{id:0,enunciado:"",ordem:0,material_id:this.props.questionario.id}}},{key:"handleChange",value:function(e,t){var a=void 0!==t?t:e.target,n=this.state.questaoSelecionada;a===t&&void 0!==a.checked?n[a.name]=a.checked:n[a.name]=a.value,n.material_id=this.state.materialSelecionado.id,this.setState({questaoSelecionada:n})}},{key:"setStatusRequisicao",value:function(e){N.gerar(e),e.data.flag&&(this.setState({questaoSelecionada:this.initializeQuestao()}),this.updateQuestoes(),this.props.setVisibleModal(!1),void 0!==this.props.updateMateriais&&this.props.updateMateriais(),void 0!==this.props.update&&this.verificaUpdateCurso())}},{key:"verificaUpdateCurso",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.isCursoConcluido,a=this.props.update,$.isConcluido(this.state.materialSelecionado.cursoId).then(function(e){t(e.data)&&a()});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isCursoConcluido",value:function(e){return Number(e.percentual_total)>=Number(e.percentual_docs)+Number(e.percentual_questoes)}},{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateQuestoes();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"salvarQuestao",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",se.save(this.state.questaoSelecionada));case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateQuestoes",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t,a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.questionario.id,e.next=3,se.findByMaterialId(t);case 3:return a=e.sent,e.next=6,oe.findById(t);case 6:n=e.sent,this.setState({questoes:a.data}),this.setState({materialSelecionado:n.data}),this.setState({updateQuestoes:this.state.updateQuestoes+1});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"showModalAlternativas",value:function(){var e=this;return i.a.createElement(ce.a,{open:this.state.modalAlternativas,wide:"very",content:i.a.createElement(k.a,{className:"bottom-extended"},i.a.createElement(x.a,{attached:"top left",basic:!0},"Enunciado"),i.a.createElement(I.a,null,i.a.createElement(I.a.Group,null,i.a.createElement(Z.a,{style:{maxHeight:100},rows:3,type:"text",size:"small",name:"enunciado",value:this.state.questaoSelecionada.enunciado,onChange:this.handleChange,width:"16"})),i.a.createElement(j.a,null),i.a.createElement(I.a.Group,null,i.a.createElement(I.a.Field,{width:"16"},i.a.createElement(de,{key:"questao-edicao-"+this.state.questaoSelecionada.id,questao:this.state.questaoSelecionada})))),i.a.createElement(ce.a.Actions,{className:"bottom-extended"},i.a.createElement(C.a,{onClick:function(){return e.setModalVisivel(!1)},basic:!0,size:"mini"},i.a.createElement(y.a,{name:"arrow left"})," Voltar para as Quest\xf5es"))),on:"click",position:"right center"})}},{key:"seleciona",value:function(e){this.setState({questaoSelecionada:e}),this.setModalVisivel(!0)}},{key:"novaQuestao",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,se.nova(this.state.materialSelecionado);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removerQuestao",value:function(){var e=Object(m.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,se.remove(t);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setModalVisivel",value:function(e){var t=this;this.setState({modalAlternativas:e}),e||this.salvarQuestao(this.state.materialSelecionado).then(function(){return t.updateQuestoes()})}},{key:"guardarResposta",value:function(e){var t=this;this.state.respostas.map(function(a){a.questao_id===e.questao_id&&t.state.respostas.splice(t.state.respostas.indexOf(a),1)}),this.state.respostas.push(e),this.setState({respostas:this.state.respostas})}},{key:"enviarQuestoes",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.state.respostas.length===this.state.questoes.length){e.next=4;break}N.gerar({data:{flag:!1,msg:"Responda todas as quest\xf5es"}}),e.next=12;break;case 4:return this.state.respostas[0].material_id=this.state.materialSelecionado.id,this.state.respostas[0].usuario_id=W.get().id,this.state.respostas[0].curso_id=this.state.materialSelecionado.cursoId,e.t0=this,e.next=10,se.enviar(this.state.respostas);case 10:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 12:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderQuestoesAluno",value:function(){var e=this;return i.a.createElement(ce.a,{size:"large",open:!0},i.a.createElement(ce.a.Header,null,i.a.createElement(le.a,{icon:"right angle",sections:[{key:"curso",content:"Curso: "+this.state.materialSelecionado.cursoTitulo,link:!1},{key:"unidade",content:"Unidade: "+this.state.materialSelecionado.unidadeTitulo,link:!1},{key:"material",content:"Question\xe1rio: "+this.state.materialSelecionado.titulo,active:!0}]})),i.a.createElement(ce.a.Content,{key:"modal-quetionario-"+this.state.updateQuestoes,scrolling:!0},i.a.createElement(O.a,null,this.state.questoes.map(function(t){return i.a.createElement(O.a.Item,{key:"questao-item-"+t.id},t.enunciado,i.a.createElement(de,{guardarResposta:e.guardarResposta.bind(e),questao:t}))}))),i.a.createElement(ce.a.Actions,{className:"bottom-extended"},i.a.createElement(s.b,{to:"/cursos/"+this.state.materialSelecionado.cursoId},i.a.createElement(C.a,{onClick:function(){return e.props.setVisibleModal(!1)},floated:"left",basic:!0,size:"mini"},i.a.createElement(y.a,{name:"arrow left"})," Voltar para o Curso")),i.a.createElement(C.a,{onClick:function(){return e.enviarQuestoes()},floated:"right",basic:!0,size:"mini"},"Enviar Question\xe1rio ",i.a.createElement(y.a,{name:"arrow right"}))))}},{key:"render",value:function(){var e=this;return W.isPerfilAdm()?i.a.createElement(ce.a,{size:"large",open:!0},i.a.createElement(ce.a.Header,null,i.a.createElement(le.a,{icon:"right angle",sections:[{key:"curso",content:"Curso: "+this.state.materialSelecionado.cursoTitulo,link:!1},{key:"unidade",content:"Unidade: "+this.state.materialSelecionado.unidadeTitulo,link:!1},{key:"material",content:"Question\xe1rio: "+this.state.materialSelecionado.titulo,active:!0}]})),i.a.createElement(ce.a.Content,{key:"modal-quetionario-"+this.state.updateQuestoes,scrolling:!0},i.a.createElement(C.a,{onClick:function(){return e.novaQuestao()},basic:!0,size:"mini"},i.a.createElement(y.a,{name:"add"})," Nova Quest\xe3o"),i.a.createElement(O.a,null,this.state.questoes.map(function(t){return i.a.createElement(O.a.Item,{key:"questao-item-"+t.id},i.a.createElement(k.a,null,i.a.createElement(ee.a,{columns:3,stackable:!0,textAlign:"center"},i.a.createElement(ee.a.Row,{verticalAlign:"middle"},i.a.createElement(ee.a.Column,null,i.a.createElement("i",null,t.enunciado)),i.a.createElement(ee.a.Column,null,i.a.createElement("i",null,null===t.alternativaCorretaTexto?"Nenhuma Alternativa Selecionada":t.alternativaCorretaTexto)),i.a.createElement(ee.a.Column,null,i.a.createElement(C.a,{onClick:function(){return e.removerQuestao(t)},size:"mini",floated:"right",basic:!0,icon:"close"}),i.a.createElement(C.a,{key:"edita-alternativas-questao-"+t.id,onClick:function(){return e.seleciona(t)},icon:"pencil",floated:"right",size:"mini",basic:!0}))))))}),this.state.modalAlternativas?this.showModalAlternativas():"")),i.a.createElement(ce.a.Actions,{className:"bottom-extended"},i.a.createElement(s.b,{to:"/cursos/"+this.state.materialSelecionado.cursoId},i.a.createElement(C.a,{onClick:function(){return e.props.setVisibleModal(!1)},floated:"left",basic:!0,size:"mini"},i.a.createElement(y.a,{name:"arrow left"})," Voltar para o Curso")))):this.renderQuestoesAluno()}}]),t}(n.Component),he=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={materiais:[],materialSelecionado:a.initializeMaterial(),updateMateriais:1,modalQuestoes:!1},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleClick=a.handleClick.bind(Object(E.a)(a)),a.limpaSelecao=a.limpaSelecao.bind(Object(E.a)(a)),a.seleciona=a.seleciona.bind(Object(E.a)(a)),a.setVisibleModalQuestoes=a.setVisibleModalQuestoes.bind(Object(E.a)(a)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateMateriais();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateMateriais",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.props.unidadeSelecionada){e.next=7;break}return e.next=3,oe.possuiInteracao(W.get().id,this.props.unidadeSelecionada.curso_id,this.props.unidadeSelecionada.id);case 3:t=e.sent,a=[],t.data.map(function(e){e.final="1"===e.final,a.push(e)}),this.setState({materiais:a});case 7:this.setState({updateMateriais:this.state.updateMateriais+1});case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getMaterialIcon",value:function(e){switch(e.tipo){case"V":return"play";case"D":return this.getTipoDocumento(e.url);case"Q":return"question circle outline"}}},{key:"initializeMaterial",value:function(){return{id:0,titulo:"",url:"",tipo:"",final:!1}}},{key:"getTipoDocumento",value:function(e){return e.includes(".pdf")?"file pdf outline":e.includes(".doc")?"file word outline":e.includes(".xls")?"file excel outline":this.isImage(e)?"file image":this.isCompressed(e)?"file archive":"file outline"}},{key:"limpaSelecao",value:function(){this.setState({materialSelecionado:this.initializeMaterial()})}},{key:"setVisibleModalQuestoes",value:function(e){this.setState({modalQuestoes:e})}},{key:"seleciona",value:function(e){this.setMaterialFinal(e),this.setState({materialSelecionado:e})}},{key:"editaQuestoes",value:function(e){this.seleciona(e),"Q"===e.tipo&&this.setVisibleModalQuestoes(!0)}},{key:"isImage",value:function(e){return new RegExp(/\.(jpg|png|gif|bmp)$/i).test(e)}},{key:"isCompressed",value:function(e){return new RegExp(/\.(zip|rar|gz|7z)$/i).test(e)}},{key:"salvarMaterial",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,oe.save(this.state.materialSelecionado);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removerMaterial",value:function(){var e=Object(m.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,oe.remove(t);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"registrarInteracao",value:function(){var e=Object(m.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.interacao&&!(t.interacao<100)){e.next=6;break}return e.t0=this,e.next=4,oe.interacao(t.id,W.get().id,this.props.unidadeSelecionada.curso_id);case 4:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleClick",value:function(e){"SM"===e?this.salvarMaterial():"RM"===e&&this.removerMaterial()}},{key:"getDadosMaterial",value:function(e){return e}},{key:"load",value:function(){window.location.reload()}},{key:"renderBotaoVisualizacao",value:function(e){var t=this;return"Q"!==e.tipo?i.a.createElement("a",{onClick:function(){return t.registrarInteracao(e)},target:"_blank",href:"".concat(e.url)},i.a.createElement(C.a,{floated:"right",basic:!0,size:"mini"},"Ver Material")," "):i.a.createElement(C.a,{onClick:function(){return t.editaQuestoes(e)},floated:"right",basic:!0,size:"mini"},"Responder Question\xe1rio")}},{key:"escondeMaterial",value:function(e){return!this.todosMaterialsDaUnidadeConcluidos()&&(e.final&&!W.isPerfilAdm())}},{key:"todosMaterialsDaUnidadeConcluidos",value:function(){return void 0===this.state.materiais.find(function(e){return 0===e.interacao&&!e.final})}},{key:"mostraInteracao",value:function(e){return e.interacao>70?i.a.createElement(x.a,{color:"green",basic:!0,floated:"right",size:"mini"},i.a.createElement(y.a,{name:"green check"}),e.interacao+"%"):(e.interacao||(e.interacao=0),i.a.createElement(x.a,{color:"orange",basic:!0,floated:"right",size:"mini"},i.a.createElement(y.a,{name:"orange circle"}),e.interacao+"%"))}},{key:"renderMaterial",value:function(e){return this.escondeMaterial(e)?"":i.a.createElement(O.a.Item,{key:e.id},i.a.createElement(k.a,{s:!0},i.a.createElement(x.a,{basic:!0},i.a.createElement(y.a,{size:"large",name:this.getMaterialIcon(e)}),e.titulo),W.isPerfilAdm()?"":this.mostraInteracao(e),W.isPerfilAdm()?this.renderEdicaoMaterial(e):this.renderBotaoVisualizacao(e),e.final?i.a.createElement(x.a,{color:"red",size:"mini",floating:!0,basic:!0},"Final"):""))}},{key:"renderMaterialPorTipo",value:function(e,t){return i.a.createElement(O.a.Item,{key:"conj-"+t},i.a.createElement(O.a,{selection:!0,verticalAlign:"middle",key:"list-"+t},i.a.createElement(x.a,null,i.a.createElement(y.a,{name:"tag"}),t),this.renderMaterial(e)))}},{key:"renderEdicaoMaterial",value:function(e){var t=this;return i.a.createElement(L.a,{secondary:!0,size:"mini",compact:!0,floated:"right"},"Q"===e.tipo?i.a.createElement(L.a.Item,null,i.a.createElement(C.a,{onClick:function(){return t.editaQuestoes(e)},basic:!0,size:"mini"},"Quest\xf5es")):"",i.a.createElement(L.a.Item,null,i.a.createElement(re,{material:e,seleciona:this.seleciona,limpa:this.limpaSelecao,titulo:"Editar "+e.titulo,icon:"pencil",buttonTitle:"",buttonFloated:"right",handleChange:this.handleChange,handleClick:this.handleClick,position:"left center"})),i.a.createElement(L.a.Item,null,i.a.createElement(C.a,{onClick:function(){return t.removerMaterial(e)},icon:"close",basic:!0,size:"mini"})))}},{key:"setStatusRequisicao",value:function(e){N.gerar(e),e.data.flag&&(this.setState({materialSelecionado:this.initializeMaterial()}),this.updateMateriais(),void 0!==this.props.update&&this.verificaUpdateCurso())}},{key:"verificaUpdateCurso",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t,a;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.isCursoConcluido,a=this.props.update,$.isConcluido(this.props.unidadeSelecionada.curso_id).then(function(e){t(e.data)&&a()});case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isCursoConcluido",value:function(e){return Number(e.percentual_total)>=Number(e.percentual_docs)+Number(e.percentual_questoes)}},{key:"renderMateriais",value:function(e,t,a){var n=this,i=e.find(function(e){return e.tipo===String(t)});if(i)return Array.isArray(i)?i.map(function(e){return n.renderMaterialPorTipo(e,a)}):this.renderMaterialPorTipo(i,a)}},{key:"handleChange",value:function(e,t){var a=void 0!==t?t:e.target,n=this.state.materialSelecionado;a===t&&void 0!==a.checked?n[a.name]=a.checked:n[a.name]=a.value,n.unidade_id=this.props.unidadeSelecionada.id,this.setMaterialFinal(n),this.setState({materialSelecionado:n})}},{key:"setMaterialFinal",value:function(e){"Q"!==e.tipo&&(e.final=!1)}},{key:"renderQuestionarioList",value:function(){return this.state.modalQuestoes?i.a.createElement(me,{setVisibleModal:this.setVisibleModalQuestoes.bind(this),updateMateriais:this.updateMateriais.bind(this),modalQuestoes:this.state.modalQuestoes,questionario:this.state.materialSelecionado,update:this.props.update}):""}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{key:"lista-materiais-unidade-"+this.props.unidadeSelecionada+"-"+this.state.updateMateriais},i.a.createElement(O.a,{animated:!0,selection:!0,verticalAlign:"middle",key:"list-documentos"},this.state.materiais.map(function(t){return e.renderMaterial(t)})),W.isPerfilAdm()?i.a.createElement(re,{material:this.state.materialSelecionado,titulo:"Inclus\xe3o Material",seleciona:this.seleciona,limpa:this.limpaSelecao,icon:"add",buttonTitle:"Incluir Material",buttonFloated:"left",handleClick:this.handleClick,handleChange:this.handleChange,position:"left center"}):"",this.renderQuestionarioList())}}]),t}(n.Component),pe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).handleClickAccordionUnidades=function(e,t){var n=t.index,i=a.state.activeIndex===n?-1:n;a.setState({activeIndex:i})},a.state={cursoSelecionado:{},unidades:[],unidadeSelecionada:a.initializeUnidade(),activeIndex:0},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.handleClick=a.handleClick.bind(Object(E.a)(a)),a.setStatusRequisicao=a.setStatusRequisicao.bind(Object(E.a)(a)),a.removerUnidade=a.removerUnidade.bind(Object(E.a)(a)),a.salvarUnidade=a.salvarUnidade.bind(Object(E.a)(a)),a.selecionaUnidade=a.selecionaUnidade.bind(Object(E.a)(a)),a.limparSelecaoUnidade=a.limparSelecaoUnidade.bind(Object(E.a)(a)),a.updateUnidades=a.updateUnidades.bind(Object(E.a)(a)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.updateUnidades();case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setStatusRequisicao",value:function(e){N.gerar(e),e.data.flag&&(this.setState({unidadeSelecionada:this.initializeUnidade()}),this.updateUnidades(),this.props.update())}},{key:"updateUnidades",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===this.props.curso.id){e.next=6;break}return e.next=3,ne.findByCursoId(this.props.curso.id);case 3:t=e.sent,this.setState({unidades:t.data}),this.setState({cursoSelecionado:this.props.curso});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e,t){var a=void 0!==t?t:e.target,n=this.state.unidadeSelecionada;n[a.name]=a.value,n.curso_id=this.state.cursoSelecionado.id,this.setState({unidadeSelecionada:n})}},{key:"salvarUnidade",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,ne.save(this.state.unidadeSelecionada);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"removerUnidade",value:function(){var e=Object(m.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,ne.remove(t);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"initializeUnidade",value:function(){return{id:0,titulo:""}}},{key:"selecionaUnidade",value:function(e){this.setState({unidadeSelecionada:e})}},{key:"limparSelecaoUnidade",value:function(){this.setState({unidadeSelecionada:this.initializeUnidade()})}},{key:"handleClick",value:function(e){"SU"===e?this.salvarUnidade():"RU"===e&&this.removerUnidade()}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(ae.a,{styled:!0},this.state.unidades&&this.state.unidades.map(function(t){return i.a.createElement("div",{key:"unidade-accod-"+t.id},i.a.createElement(ae.a.Title,{active:e.state.activeIndex===t.id,index:t.id,onClick:e.handleClickAccordionUnidades},i.a.createElement(y.a,{name:"dropdown"}),t.titulo),i.a.createElement(ae.a.Content,{active:e.state.activeIndex===t.id},i.a.createElement(he,{update:e.props.update,cursoSelecionado:e.props.curso,unidadeSelecionada:t}),W.isPerfilAdm()?i.a.createElement(C.a.Group,{key:"edicao-unidade-"+t.id,floated:"right",size:"mini",basic:!0},i.a.createElement(q.a,{wide:"very",trigger:i.a.createElement(C.a,{onClick:function(){return e.selecionaUnidade(t)}},i.a.createElement(y.a,{name:"pencil"}),"Editar ",t.titulo),content:i.a.createElement(I.a,null,i.a.createElement(S.a,null,"Editar Unidade"),i.a.createElement(I.a.Group,null,i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"T\xedtulo"),i.a.createElement("input",{placeholder:"T\xedtulo",name:"titulo",type:"text",value:e.state.unidadeSelecionada.titulo,onChange:e.handleChange})),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"\xa0"),i.a.createElement(C.a,{onClick:function(){return e.handleClick("SU")},floated:"right",icon:"check",basic:!0})))),on:"click",position:"right center"}),i.a.createElement(C.a,{onClick:function(){return e.removerUnidade(t)}},i.a.createElement(y.a,{name:"close"}),"Remover ",t.titulo)):""))})),W.isPerfilAdm()?i.a.createElement(C.a.Group,{floated:"left"},i.a.createElement(q.a,{wide:"very",trigger:i.a.createElement(C.a,{onClick:function(){return e.limparSelecaoUnidade()},size:"mini",basic:!0},"Adicionar Unidade"),content:i.a.createElement(I.a,null,i.a.createElement(S.a,null,"Nova Unidade"),i.a.createElement(I.a.Group,null,i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"T\xedtulo"),i.a.createElement("input",{placeholder:"T\xedtulo",name:"titulo",type:"text",value:this.state.unidadeSelecionada.titulo,onChange:this.handleChange})),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"\xa0"),i.a.createElement(C.a,{onClick:function(){return e.handleClick("SU")},floated:"right",icon:"check",basic:!0})))),on:"click",position:"right center"})):"")}}]),t}(n.Component),ve=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"all",value:function(){return z.create().get("tags")}},{key:"findByCursoId",value:function(e){return z.create().get("tags/curso/".concat(e))}},{key:"save",value:function(e){return z.create().post("tags",e)}},{key:"remove",value:function(e){return z.create().delete("tags",{data:e})}}]),e}(),fe=a(279),ge=a.n(fe),Ee=a(280),be=(a(501),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return i.a.createElement(k.a,{textAlign:"center",className:"container-certificado"},i.a.createElement(j.a,null),i.a.createElement(Ee.a,{centered:!0,size:"mini",src:"/logo.png",alt:"logo incompany"}),i.a.createElement("div",null,"Incompany Trainning"),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("div",null,"Certifica que ",i.a.createElement("b",null,this.props.usuario.nome)," concluiu o todas ",i.a.createElement("br",null),"as unidades do curso ",i.a.createElement("b",null,this.props.curso.titulo)," com aproveitamento ",i.a.createElement("br",null),"satisfat\xf3rio e carga hor\xe1ria de ",i.a.createElement("b",null,"20")," horas. "),i.a.createElement("br",null),i.a.createElement("br",null),i.a.createElement("div",null,"Incompany Trainning Sistema de treinamentos para empresas"),i.a.createElement(j.a,null))}}]),t}(n.Component)),ke=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={cursoSelecionado:{unidades:[]},tagSelecionada:a.initializeTag(),categorias:[],tags:[],updateCurso:1,dadosConclusao:{},avaliacao:{nota:0,comentario:""},updateAvaliacao:1},a.backToDashBoard=a.backToDashBoard.bind(Object(E.a)(a)),a.handleChangeTag=a.handleChangeTag.bind(Object(E.a)(a)),a.handleChange=a.handleChange.bind(Object(E.a)(a)),a.excluiTag=a.excluiTag.bind(Object(E.a)(a)),a.salvarTag=a.salvarTag.bind(Object(E.a)(a)),a.isCursoConcluido=a.isCursoConcluido.bind(Object(E.a)(a)),a.onChangeAvaliacao=a.onChangeAvaliacao.bind(Object(E.a)(a)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(this.props.location.search),this.updateCurso();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeTag",value:function(){return{id:0,descricao:"",curso:this.props.match.params.id}}},{key:"excluiTag",value:function(){var e=Object(m.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,ve.remove(t);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"salvarTag",value:function(){var e=Object(m.a)(d.a.mark(function e(t){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,ve.save(this.state.tagSelecionada);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"setStatusRequisicao",value:function(e){N.gerar(e),e.data.flag&&this.updateTags(),e.data.msg.includes("Avalia\xe7\xe3o")&&this.updateCurso()}},{key:"handleChangeTag",value:function(e,t){var a=void 0!==t?t:e.target,n=this.state.tagSelecionada;n[a.name]=a.value,n.curso_id=this.props.match.params.id,this.setState({tagSelecionada:n})}},{key:"onChangeAvaliacao",value:function(e,t){var a=void 0!==t?t:e.target,n=this.state.avaliacao;n[a.name]=a.value,this.setState({avaliacao:n})}},{key:"updateCurso",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t,a,n,i;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$.findById(this.props.match.params.id);case 2:return t=e.sent,e.next=5,$.getAvaliacao(this.props.match.params.id);case 5:return a=e.sent,e.next=8,$.isConcluido(this.props.match.params.id);case 8:return n=e.sent,e.next=11,U.all();case 11:i=e.sent,this.updateTags(),this.setState({categorias:this.buildDropdownItensCategoria(i.data)}),this.setState({cursoSelecionado:t.data}),this.setState({avaliacao:a.data}),this.setState({dadosConclusao:n.data}),this.setState({isConcluido:this.isCursoConcluido()}),this.setState({updateCurso:this.state.updateCurso+1});case 19:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"updateTags",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve.all();case 2:t=e.sent,this.setState({tags:t.data}),this.setState({tagSelecionada:this.initializeTag()});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"buildDropdownItensCategoria",value:function(e){var t=[];return e.map(function(e){return t.push({key:e.id,text:e.descricao,value:e.id})}),t}},{key:"handleChange",value:function(e,t){var a=void 0!==t?t:e.target,n=this.state.cursoSelecionado;n[a.name]=a.value,n.usuario_id=W.get().id,this.setState({cursoSelecionado:n})}},{key:"getTags",value:function(){return[{id:1,nome:"teste"},{id:2,nome:"teste"}]}},{key:"getCategorias",value:function(){return[{key:1,text:"Costura Integrada",value:1},{key:2,text:"Teste 2",value:2},{key:3,text:"3",value:3}]}},{key:"backToDashBoard",value:function(e){this.props.location.back(),this.props.history.push("/")}},{key:"isCursoConcluido",value:function(){return Number(this.state.dadosConclusao.percentual_total)>=Number(this.state.dadosConclusao.percentual_docs)+Number(this.state.dadosConclusao.percentual_questoes)}},{key:"salvarCurso",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,$.save(this.state.cursoSelecionado);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"enviarAvaliacao",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=this,e.next=3,$.enviarAvaliacao(this.state.cursoSelecionado.id,this.state.avaliacao.comentario,this.state.avaliacao.nota);case 3:e.t1=e.sent,e.t0.setStatusRequisicao.call(e.t0,e.t1);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"renderAreaAluno",value:function(){var e=this;return i.a.createElement("div",{key:"area-aluno-"+this.state.updateCurso},i.a.createElement(J,null),this.state.isConcluido?i.a.createElement(be,{ref:function(t){return e.componentRef=t},curso:this.state.cursoSelecionado,usuario:W.get()}):"",i.a.createElement(k.a,{key:this.state.updateCurso},i.a.createElement(k.a,null,this.state.cursoSelecionado.titulo,this.state.isConcluido?i.a.createElement("div",{style:{display:"inline-block"}},"\xa0\xa0 (Conclu\xeddo) ",i.a.createElement(y.a,{name:"green check"})," \xa0\xa0\xa0\xa0",i.a.createElement(L.a,{text:!0,compact:!0,size:"mini"},i.a.createElement(L.a.Item,null,i.a.createElement("div",null,i.a.createElement(ge.a,{trigger:function(){return i.a.createElement(C.a,{basic:!0,size:"mini",color:"purple"},i.a.createElement(y.a,{name:"certificate"}),"Imprimir/Salvar Certificado")},content:function(){return e.componentRef}}))),i.a.createElement(L.a.Item,null,i.a.createElement(T,{trigger:i.a.createElement(C.a,{basic:!0,size:"mini",color:"blue"},i.a.createElement(y.a,{name:"comment"})," Feedback"),position:"left center",content:i.a.createElement(I.a,{encType:"multipart/form-data"},i.a.createElement(S.a,null,"Avalia\xe7\xe3o curso"),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"Nota: ",this.state.avaliacao.nota),i.a.createElement("input",{placeholder:"Nota",name:"nota",max:5,type:"range",value:this.state.avaliacao.nota,onChange:this.onChangeAvaliacao})),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"Coment\xe1rio"),i.a.createElement(Z.a,{name:"comentario",onChange:this.onChangeAvaliacao,rows:3,placeholder:"Coment\xe1rio",value:this.state.avaliacao.comentario})),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"\xa0"),i.a.createElement(C.a,{onClick:function(){return e.enviarAvaliacao()},icon:"check",basic:!0})))})))):"",i.a.createElement(j.a,{vertical:!0}),i.a.createElement(s.b,{to:"/dashboard"},i.a.createElement(C.a,{size:"mini",basic:!0,floated:"right"}," Voltar aos cursos"))),i.a.createElement(ee.a,null,i.a.createElement(ee.a.Row,null,i.a.createElement(ee.a.Column,{width:16},i.a.createElement(pe,{update:this.updateCurso.bind(this),curso:this.state.cursoSelecionado}))))))}},{key:"render",value:function(){var e=this;return W.isPerfilAdm()?i.a.createElement("div",null,i.a.createElement(J,null),i.a.createElement(k.a,null,i.a.createElement(k.a,{key:this.state.updateCurso,className:"bottom-extended"},i.a.createElement(S.a,null,this.state.titulo),i.a.createElement(I.a,null,i.a.createElement(I.a.Group,null,i.a.createElement(I.a.Field,{width:6},i.a.createElement("label",null,"T\xedtulo"),i.a.createElement("input",{type:"text",name:"titulo",placeholder:"T\xedtulo",onChange:this.handleChange,value:this.state.cursoSelecionado.titulo})),i.a.createElement(I.a.Field,{width:5},i.a.createElement("label",null,"Categoria"),i.a.createElement(V.a,{selection:!0,onChange:this.handleChange,name:"categoria_id",value:this.state.cursoSelecionado.categoria_id,options:this.state.categorias})),i.a.createElement(I.a.Field,{width:5},i.a.createElement("label",null,"Nome Tutor"),i.a.createElement("input",{placeholder:"Nome do Tutor",name:"nome_tutor",type:"text",onChange:this.handleChange,value:this.state.cursoSelecionado.nome_tutor})),i.a.createElement(I.a.Field,{width:4},i.a.createElement("label",null,"Tags"),i.a.createElement(te.a,{name:"descricao",value:this.state.tagSelecionada.descricao,onChange:this.handleChangeTag,icon:"tags",size:"small",iconPosition:"left",label:{tag:!1,content:i.a.createElement("a",{onClick:this.salvarTag},i.a.createElement(y.a,{name:"add"})),basic:!0},labelPosition:"right",placeholder:"Enter tags"}))),i.a.createElement(O.a,{horizontal:!0},this.state.tags.map(function(t){return i.a.createElement(x.a,{size:"small",key:t.id,as:"a",tag:!0},t.descricao,i.a.createElement("a",{onClick:function(){return e.excluiTag(t)}},i.a.createElement(y.a,{size:"big",name:"close"})))})),i.a.createElement(j.a,null),i.a.createElement(S.a,{className:"header-detalhes"},"Unidades"),i.a.createElement(pe,{update:this.updateCurso.bind(this),curso:this.state.cursoSelecionado}),i.a.createElement(C.a.Group,{floated:"right"},i.a.createElement(s.b,{to:"/"},i.a.createElement(C.a,{basic:!0}," ",i.a.createElement(y.a,{name:"arrow left"}),"Voltar")),i.a.createElement(C.a,{onClick:function(){return e.salvarCurso()},className:"button-action-detail",basic:!0}," ",i.a.createElement(y.a,{name:"check"})," Salvar Curso")))))):this.renderAreaAluno()}}]),t}(n.Component),Ce=a(515),ye=(a(502),function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).state={usuario:a.initializeUsuario(),logando:!1,auth:W.get()},a.login=a.login.bind(Object(E.a)(a)),a.handleChange=a.handleChange.bind(Object(E.a)(a)),a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"handleChange",value:function(e,t){var a=void 0!==t?t:e.target,n=this.state.usuario;n[a.name]=a.value,this.setState({usuario:n})}},{key:"componentWillMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(W.get()),null!==W.get()&&this.props.history.push("/dashboard");case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.setState({usuario:this.initializeUsuario()});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({logando:!0}),e.next=3,B.login(this.state.usuario);case 3:t=e.sent,this.setState({logando:!1}),t.data.flag?(W.save(t),this.setState({auth:t.data.obj}),this.props.history.push("/dashboard")):N.gerar(t);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"initializeUsuario",value:function(){return{email:"",senha:""}}},{key:"render",value:function(){return i.a.createElement(Ce.a,{textAlign:"center"},this.redirectToDashBoard,i.a.createElement(j.a,null),i.a.createElement(j.a,{hidden:!0}),i.a.createElement(Ee.a,{centered:!0,size:"tiny",className:"inline-block",src:z.getUrl()+"assets/images/incompany.png"}),i.a.createElement(S.a,null,"Incompany",i.a.createElement(x.a,{basic:!0}," Trainning app")),i.a.createElement(k.a,{compact:!0,textAlign:"left",className:"inline-block"},i.a.createElement(I.a,null,i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"E-mail"),i.a.createElement("input",{onChange:this.handleChange,size:"small",name:"email",type:"text",placeholder:"E-mail"})),i.a.createElement(I.a.Field,null,i.a.createElement("label",null,"Senha"),i.a.createElement("input",{onChange:this.handleChange,size:"small",name:"senha",type:"password",placeholder:"Senha"})),i.a.createElement(C.a,{disabled:this.state.logando,loading:this.state.logando,onClick:this.login,size:"small",floated:"right",basic:!0},i.a.createElement(y.a,{name:"key"})," Entrar"))),i.a.createElement(j.a,null),i.a.createElement(L.a,{secondary:!0},i.a.createElement(L.a.Menu,{position:"left"},i.a.createElement(L.a.Item,{name:"section1"},"Desenvolvido utilizando \xa0\xa0",i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://react.io"},i.a.createElement(y.a,{size:"big",name:"react"})),i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://codeigniter.com"},i.a.createElement(Ee.a,{centered:!0,className:"inline-block",src:z.getUrl()+"assets/images/codeigniter.png"})))),i.a.createElement(L.a.Menu,{position:"right"},i.a.createElement(L.a.Item,null,i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/cardocha/incompany"},i.a.createElement(y.a,{size:"large",name:"github"}),"C\xf3digo Fonte")),i.a.createElement(L.a.Item,null,i.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://cardocha.github.io"},i.a.createElement(y.a,{name:"user"}),"Luciano Cardoso")))))}}]),t}(n.Component)),Se=a(521),Oe=function(e){function t(e){var a;return Object(h.a)(this,t),(a=Object(v.a)(this,Object(f.a)(t).call(this,e))).groupBy=function(e){return function(t){return t.reduce(function(t,a){var n=a[e];return t[n]=(t[n]||[]).concat(a),t},{})}},a.state={detalhesUsuario:[],inscricoes:[],usuarioSelecionado:{}},a}return Object(g.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(d.a.mark(function e(){var t,a,n;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.findById(this.props.match.params.id);case 2:return t=e.sent,a=t.data[0],e.next=6,$.findByIncricaoUsuario(a.usuarioId);case 6:n=e.sent,this.setState({usuarioSelecionado:a}),this.setState({detalhesUsuario:t.data}),this.setState({inscricoes:n.data});case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isCursoConcluido",value:function(e){return Number(e.percentual_total)>=Number(e.percentual_docs)+Number(e.percentual_questoes)}},{key:"initializeUsuario",value:function(){return{id:0,nome:"",email:"",senha:"",tipo:"",dataCadastro:""}}},{key:"getTipoDocumento",value:function(e){return e.includes(".pdf")?"file pdf outline":e.includes(".doc")?"file word outline":e.includes(".xls")?"file excel outline":this.isImage(e)?"file image":this.isCompressed(e)?"file archive":"file outline"}},{key:"getMaterialIcon",value:function(e,t){switch(e){case"V":return"play";case"D":return this.getTipoDocumento(t);case"Q":return"question circle outline"}}},{key:"getPercentual",value:function(e,t){return"Q"!==t?null===e?i.a.createElement(y.a,{name:"orange circle"}):Number(e)<100?i.a.createElement(y.a,{name:"orange circle"}):i.a.createElement(y.a,{name:"green check"}):null===e?i.a.createElement(x.a,{basic:!0,color:"orange"},"0%"):Number(e)<70?i.a.createElement(x.a,{basic:!0,color:"orange"},e+"%"):i.a.createElement(x.a,{basic:!0,color:"green"},e+"%")}},{key:"render",value:function(){var e=this;return i.a.createElement("div",null,i.a.createElement(J,null),i.a.createElement(k.a,null,i.a.createElement(s.b,{to:"/dashboard"},i.a.createElement(C.a,{size:"mini",basic:!0,floated:"right"}," Voltar aos cursos")),i.a.createElement(y.a,{size:"huge",name:"user"}),i.a.createElement(x.a,{size:"big",basic:!0},this.state.usuarioSelecionado.usuarioNome),i.a.createElement(x.a,{size:"big",basic:!0},this.state.usuarioSelecionado.usuarioEmail),i.a.createElement(k.a,null,i.a.createElement(S.a,null,"Cursos Inscritos / Situa\xe7\xe3o"),i.a.createElement(O.a,{celled:!0,horizontal:!0},this.state.inscricoes.map(function(t){return i.a.createElement(O.a.Item,null,i.a.createElement(k.a,{compact:!0},t.titulo," \xa0\xa0\xa0\xa0",e.isCursoConcluido(t.dados_conclusao)?i.a.createElement(x.a,{basic:!0,size:"mini",color:"green"}," Aprovado"):i.a.createElement(x.a,{basic:!0,size:"mini",color:"orange"}," Cursando")))})),i.a.createElement(S.a,null,"Materiais e Question\xe1rios"),i.a.createElement(Se.a,{celled:!0,selection:!0},i.a.createElement(Se.a.Header,null,i.a.createElement(Se.a.Row,null,i.a.createElement(Se.a.HeaderCell,null,"Curso"),i.a.createElement(Se.a.HeaderCell,null,"Material / Question\xe1rio"),i.a.createElement(Se.a.HeaderCell,null,"Tipo"),i.a.createElement(Se.a.HeaderCell,null,"Aprova\xe7\xe3o"))),i.a.createElement(Se.a.Body,null,this.state.detalhesUsuario.map(function(t){return i.a.createElement(Se.a.Row,null,i.a.createElement(Se.a.Cell,null,i.a.createElement("span",null,t.cursoTitulo)),i.a.createElement(Se.a.Cell,null,i.a.createElement("span",null,t.materialTitulo)),i.a.createElement(Se.a.Cell,null,i.a.createElement("span",null,i.a.createElement(y.a,{name:e.getMaterialIcon(t.tipo,t.url)}))),i.a.createElement(Se.a.Cell,null,i.a.createElement("span",null,e.getPercentual(t.percentual,t.tipo))))}))))))}}]),t}(n.Component);l.a.configure();var je=function(){return i.a.createElement(s.a,null,i.a.createElement(c.c,null,i.a.createElement(c.a,{path:"/",exact:!0,component:ye}),i.a.createElement(c.a,{path:"/login",exact:!0,component:ye}),i.a.createElement(c.a,{path:"/dashboard",exact:!0,component:X}),i.a.createElement(c.a,{path:"/cursos/:id",exact:!0,component:ke}),i.a.createElement(c.a,{path:"/usuarios/:id",exact:!0,component:Oe})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(je,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[289,1,2]]]);
//# sourceMappingURL=main.6470e1de.chunk.js.map